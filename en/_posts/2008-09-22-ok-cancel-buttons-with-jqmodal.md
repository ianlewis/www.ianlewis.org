---
layout: post
title: "Ok/Cancel buttons with jqModal"
date: 2008-09-22 00:12:22 +0000
permalink: /en/ok-cancel-buttons-with-jqmodal
blog: en
tags: javascript jquery
render_with_liquid: false
---

<!-- textlint-disable rousseau -->

<p>I recently quit using <a href="http://code.google.com/webtoolkit/" title="Google Web Toolkit">gwt</a> and started using <a href="http://jquery.com/" title="jQuery">jQuery</a> for a personal project of mine and I wanted to be able to show some modal dialog boxes using <a href="http://jquery.com/" title="jQuery">jQuery</a>. As it turns out there is an easy to use plugin that does exactly this called <a href="http://dev.iceburg.net/jquery/jqModal/">jqModal</a>. jqModal makes it simple to create modal dialogs by simply setting a css class on the tag you want to open the dialog and on the tag in the dialog that you want to close it.</p>
<div class="codeblock amc_xml amc_short"><table><tr class="amc_code_odd"><td class="amc_line"><div class="amc1"></div></td><td><span style="color: #009900;"><span style="font-weight: bold; color: black;">&lt;a</span> <span style="color: #000066;">href</span>=<span style="color: #ff0000;">&quot;#&quot;</span> <span style="color: #000066;">class</span>=<span style="color: #ff0000;">&quot;jqModal&quot;</span><span style="font-weight: bold; color: black;">&gt;</span></span>view<span style="color: #009900;"><span style="font-weight: bold; color: black;">&lt;/a<span style="font-weight: bold; color: black;">&gt;</span></span></span><br /></td></tr><tr class="amc_code_even"><td class="amc_line"><div class="amc2"></div></td><td>...<br /></td></tr><tr class="amc_code_odd"><td class="amc_line"><div class="amc3"></div></td><td><span style="color: #009900;"><span style="font-weight: bold; color: black;">&lt;div</span> <span style="color: #000066;">class</span>=<span style="color: #ff0000;">&quot;jqmWindow&quot;</span> <span style="color: #000066;">id</span>=<span style="color: #ff0000;">&quot;dialog&quot;</span><span style="font-weight: bold; color: black;">&gt;</span></span><br /></td></tr><tr class="amc_code_even"><td class="amc_line"><div class="amc4"></div></td><td><span style="color: #009900;"><span style="font-weight: bold; color: black;">&lt;p<span style="font-weight: bold; color: black;">&gt;</span></span></span>This is my dialog.<span style="color: #009900;"><span style="font-weight: bold; color: black;">&lt;/p<span style="font-weight: bold; color: black;">&gt;</span></span></span><br /></td></tr><tr class="amc_code_odd"><td class="amc_line"><div class="amc5"></div></td><td><span style="color: #009900;"><span style="font-weight: bold; color: black;">&lt;a</span> <span style="color: #000066;">href</span>=<span style="color: #ff0000;">&quot;#&quot;</span> <span style="color: #000066;">class</span>=<span style="color: #ff0000;">&quot;jqmClose&quot;</span><span style="font-weight: bold; color: black;">&gt;</span></span>Close<span style="color: #009900;"><span style="font-weight: bold; color: black;">&lt;/a<span style="font-weight: bold; color: black;">&gt;</span></span></span><br /></td></tr><tr class="amc_code_even"><td class="amc_line"><div class="amc6"></div></td><td><span style="color: #009900;"><span style="font-weight: bold; color: black;">&lt;/div<span style="font-weight: bold; color: black;">&gt;</span></span></span></td></tr></table></div>
<div class="codeblock amc_javascript amc_short"><table><tr class="amc_code_odd"><td class="amc_line"><div class="amc1"></div></td><td><span style="color: #66cc66;">&lt;</span>pre<span style="color: #66cc66;">&gt;&lt;</span>code<span style="color: #66cc66;">&gt;</span><br /></td></tr><tr class="amc_code_even"><td class="amc_line"><div class="amc2"></div></td><td>$<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>.<span style="color: #006600;">ready</span><span style="color: #66cc66;">&#40;</span><span style="color: #003366; font-weight: bold;">function</span><span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span> <span style="color: #66cc66;">&#123;</span><br /></td></tr><tr class="amc_code_odd"><td class="amc_line"><div class="amc3"></div></td><td>&nbsp; $<span style="color: #66cc66;">&#40;</span><span style="color: #3366CC;">'#dialog'</span><span style="color: #66cc66;">&#41;</span>.<span style="color: #006600;">jqm</span><span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;<br /></td></tr><tr class="amc_code_even"><td class="amc_line"><div class="amc4"></div></td><td><span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">&#41;</span>;<br /></td></tr><tr class="amc_code_odd"><td class="amc_line"><div class="amc5"></div></td><td><span style="color: #66cc66;">&lt;</span><span style="color: #0066FF;">/code&gt;&lt;/</span>pre<span style="color: #66cc66;">&gt;</span></td></tr></table></div>
<p>That's easy but gives you a pretty minimalistic popup dialog. Any tag with the jqmClose class will simply close the dialog. What if you want to do something with OK and Cancel options? What if you want to do some fancy fade in/fade out no matter what happens? This tripped me up for a but much luckily only took about a few minutes to straiten out and test.</p>

<div class="codeblock amc_xml amc_short"><table><tr class="amc_code_odd"><td class="amc_line"><div class="amc1"></div></td><td><span style="color: #009900;"><span style="font-weight: bold; color: black;">&lt;a</span> <span style="color: #000066;">href</span>=<span style="color: #ff0000;">&quot;#&quot;</span> <span style="color: #000066;">class</span>=<span style="color: #ff0000;">&quot;jqModal&quot;</span><span style="font-weight: bold; color: black;">&gt;</span></span>Update<span style="color: #009900;"><span style="font-weight: bold; color: black;">&lt;/a<span style="font-weight: bold; color: black;">&gt;</span></span></span><br /></td></tr><tr class="amc_code_even"><td class="amc_line"><div class="amc2"></div></td><td>...<br /></td></tr><tr class="amc_code_odd"><td class="amc_line"><div class="amc3"></div></td><td><span style="color: #009900;"><span style="font-weight: bold; color: black;">&lt;div</span> <span style="color: #000066;">class</span>=<span style="color: #ff0000;">&quot;jqmWindow&quot;</span> <span style="color: #000066;">id</span>=<span style="color: #ff0000;">&quot;dialog&quot;</span><span style="font-weight: bold; color: black;">&gt;</span></span><br /></td></tr><tr class="amc_code_even"><td class="amc_line"><div class="amc4"></div></td><td><span style="color: #009900;"><span style="font-weight: bold; color: black;">&lt;p<span style="font-weight: bold; color: black;">&gt;</span></span></span>I'm going to update. Is that ok?<span style="color: #009900;"><span style="font-weight: bold; color: black;">&lt;/p<span style="font-weight: bold; color: black;">&gt;</span></span></span><br /></td></tr><tr class="amc_code_odd"><td class="amc_line"><div class="amc5"></div></td><td><span style="color: #009900;"><span style="font-weight: bold; color: black;">&lt;a</span> <span style="color: #000066;">href</span>=<span style="color: #ff0000;">&quot;#&quot;</span> <span style="color: #000066;">class</span>=<span style="color: #ff0000;">&quot;dialogok&quot;</span><span style="font-weight: bold; color: black;">&gt;</span></span>OK<span style="color: #009900;"><span style="font-weight: bold; color: black;">&lt;/a<span style="font-weight: bold; color: black;">&gt;</span></span></span> <span style="color: #009900;"><span style="font-weight: bold; color: black;">&lt;a</span> <span style="color: #000066;">href</span>=<span style="color: #ff0000;">&quot;#&quot;</span> <span style="color: #000066;">class</span>=<span style="color: #ff0000;">&quot;jqmClose&quot;</span><span style="font-weight: bold; color: black;">&gt;</span></span>Cancel<span style="color: #009900;"><span style="font-weight: bold; color: black;">&lt;/a<span style="font-weight: bold; color: black;">&gt;</span></span></span><br /></td></tr><tr class="amc_code_even"><td class="amc_line"><div class="amc6"></div></td><td><span style="color: #009900;"><span style="font-weight: bold; color: black;">&lt;/div<span style="font-weight: bold; color: black;">&gt;</span></span></span></td></tr></table></div>

<div class="codeblock amc_javascript amc_short"><table><tr class="amc_code_odd"><td class="amc_line"><div class="amc1"></div></td><td>$<span style="color: #66cc66;">&#40;</span><span style="color: #3366CC;">&quot;#dialog #dialogok&quot;</span><span style="color: #66cc66;">&#41;</span>.<span style="color: #006600;">bind</span><span style="color: #66cc66;">&#40;</span><span style="color: #3366CC;">&quot;click&quot;</span>,<br /></td></tr><tr class="amc_code_even"><td class="amc_line"><div class="amc2"></div></td><td>&nbsp; <span style="color: #003366; font-weight: bold;">function</span><span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span> <span style="color: #66cc66;">&#123;</span><br /></td></tr><tr class="amc_code_odd"><td class="amc_line"><div class="amc3"></div></td><td>&nbsp; &nbsp; <span style="color: #009900; font-style: italic;">/* Do your update logic here. */</span><br /></td></tr><tr class="amc_code_even"><td class="amc_line"><div class="amc4"></div></td><td>&nbsp; &nbsp; $<span style="color: #66cc66;">&#40;</span><span style="color: #3366CC;">'#dialog'</span><span style="color: #66cc66;">&#41;</span>.<span style="color: #006600;">jqmHide</span><span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>;<br /></td></tr><tr class="amc_code_odd"><td class="amc_line"><div class="amc5"></div></td><td>&nbsp; <span style="color: #66cc66;">&#125;</span><br /></td></tr><tr class="amc_code_even"><td class="amc_line"><div class="amc6"></div></td><td><span style="color: #66cc66;">&#41;</span>;<br /></td></tr><tr class="amc_code_odd"><td class="amc_line"><div class="amc7"></div></td><td>&nbsp; <br /></td></tr><tr class="amc_code_even"><td class="amc_line"><div class="amc8"></div></td><td><span style="color: #003366; font-weight: bold;">var</span> newFieldHide = <span style="color: #003366; font-weight: bold;">function</span><span style="color: #66cc66;">&#40;</span>hash<span style="color: #66cc66;">&#41;</span> <span style="color: #66cc66;">&#123;</span><br /></td></tr><tr class="amc_code_odd"><td class="amc_line"><div class="amc9"></div></td><td>&nbsp; hash.<span style="color: #006600;">w</span>.<span style="color: #006600;">fadeOut</span><span style="color: #66cc66;">&#40;</span><span style="color: #3366CC;">'2000'</span>,<span style="color: #003366; font-weight: bold;">function</span><span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span> <span style="color: #66cc66;">&#123;</span> hash.<span style="color: #006600;">o</span>.<span style="color: #006600;">remove</span><span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span>; <span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">&#41;</span>;<br /></td></tr><tr class="amc_code_even"><td class="amc_line"><div class="amc0"><div class="amc1"></div></div></td><td><span style="color: #66cc66;">&#125;</span>;<br /></td></tr><tr class="amc_code_odd"><td class="amc_line"><div class="amc1"><div class="amc1"></div></div></td><td><span style="color: #003366; font-weight: bold;">var</span> newFieldShow = <span style="color: #003366; font-weight: bold;">function</span><span style="color: #66cc66;">&#40;</span>hash<span style="color: #66cc66;">&#41;</span> <span style="color: #66cc66;">&#123;</span><br /></td></tr><tr class="amc_code_even"><td class="amc_line"><div class="amc2"><div class="amc1"></div></div></td><td>&nbsp; hash.<span style="color: #006600;">w</span>.<span style="color: #006600;">fadeIn</span><span style="color: #66cc66;">&#40;</span><span style="color: #3366CC;">&quot;2000&quot;</span><span style="color: #66cc66;">&#41;</span>;<br /></td></tr><tr class="amc_code_odd"><td class="amc_line"><div class="amc3"><div class="amc1"></div></div></td><td><span style="color: #66cc66;">&#125;</span>;<br /></td></tr><tr class="amc_code_even"><td class="amc_line"><div class="amc4"><div class="amc1"></div></div></td><td>$<span style="color: #66cc66;">&#40;</span><span style="color: #3366CC;">&quot;#dialog&quot;</span><span style="color: #66cc66;">&#41;</span>.<span style="color: #006600;">jqm</span><span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#123;</span>onHide:newFieldHide, onShow:newFieldShow<span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">&#41;</span>;</td></tr></table></div>

<p>So I'm basically closing the dialog manually in the <em>OK</em> case and closing it automatically using the jqmClose class in the <em>Cancel</em> case. In both cases the onHide trigger is called and fades out the dialog.</p>

<!-- textlint-enable rousseau -->
